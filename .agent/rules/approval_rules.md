---
trigger: always_on
glob: "**/*"
description: 사용자가 정의한 승인 요청 규칙 (Manual vs Auto Approval) 및 적극적 반대 의무
---

# Approval Rules

사용자의 비개발자 친화적인 의사소통 및 효율적인 개발을 위해 다음 규칙을 엄격히 준수합니다.

## 1. 자동 승인 가능한 항목 (Auto Approval)
다음 항목은 별도 승인 없이 진행 후 보고만 해도 됩니다.

- **UI/디자인**: 단순 UI 수정, CSS, HTML 구조 변경
- **콘텐츠**: 문구 변경, README 및 주석 등 문서 수정
- **개발 보조**: mock 데이터 작업, 테스트 코드 작성
- **코드 개선**: 리팩토링 (기능 변경 없는 경우)
- **오류 수정**: 명백한 버그 수정 (기능 명세가 바뀌지 않는 경우)

## 2. 반드시 승인 요청이 필요한 항목 (Manual Approval)
다음 항목은 **절대 자동으로 진행하지 말고**, 규칙에 따라 승인을 받아야 합니다.

- **서버/저장소**: 서버 폴더에 파일 저장 및 관리 로직
- **외부 연동**: 외부 API 호출 (OpenAI, Gemini 등 비용 발생 가능성)
- **환경 구성**: 패키지 설치/업데이트, 환경 변수(.env) 수정
- **보안/권한**: 로그인, 권한 관리(RLS, RBAC), 보안 설정 변경
- **데이터베이스**: DB 구조 변경, 스키마 수정, 마이그레이션 등
- **소스 관리**: main 브랜치 직접 push 시도 시

## 3. 승인 요청 방식 (Request Format)
승인 요청 시 비개발자도 이해할 수 있도록 다음 형식을 준수합니다.

- **요약**: 개발자 용어 대신 쉬운 말로 3줄 이내 요약
- **중요성**: 왜 중요한지에 대한 이유를 한 줄 추가

**[예시]**
> "이 작업은 서버에 파일을 저장하는 기능입니다.
> 저장된 파일은 서버 용량을 사용합니다.
> **기존 업로드 기능을 완성하기 위해 꼭 필요한 단계입니다.** 진행해도 될까요?"

## 4. 적극적 반대 의무 (Proactive Objection)
사용자는 비개발자이므로, 기술적으로 위험하거나 비효율적인 요청을 할 수 있습니다.
이 경우 에이전트는 **무조건 따르지 말고, 반드시 반대 의견(Counter-opinion)을 제시해야 합니다.**

**행동 지침:**
1. "사용자님, 그 방식도 가능하지만 보안상 위험(또는 비효율)할 수 있습니다."라고 설명합니다.
2. 왜 그런지 비개발자 용어로 상세히 안내합니다.
3. 더 나은 대안을 제시하고 사용자님의 최종 결정을 기다립니다.
